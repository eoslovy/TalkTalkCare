## 📌1월 14일 화요일

### STUN, TURN

- **STUN**
    - 단말이 자신의 공인 IP주소와 포트를 확인하는 과정에 대한 프로토콜
    - 인터넷의 복잡한 주소들 속에서 유일하게 자신을 식별할 수 있는 정보를 반환
    - WebRTC 연결을 시작하기 전에 STUN 서버를 향해 요청을 보내면, STUN 서버는 NAT 뒤에 있는 Peer들이 서로 연결할 수 있도록 공인 IP와 포트를 찾아줍니다
    - 어떤 라우터들은 방화벽 정책을 달리 할 수도 있고, 이전에 연결된 적이 있는 네트워크만 연결할 수 있게 제한을 걸기도 합니다
    - 자기 자신의 주소를 찾아내지 못했을 경우, **TURN 서버**를 대안으로 이용하게 됩니다
- TURN
    - 네트워크 미디어를 중개하는 서버
    - TURN 방식은 중간에 서버를 한 번 거치기 때문에, P2P 통신이 아니게 되며 구조상 지연이 발생
    - 보안 정책이 엄격한 개인 NAT 내부에 위치한 브라우저와 P2P 통신을 할 수 있는 유일한 방법이기 때문에, TURN 방식은 최후의 수단으로 선택되어야 한

### ICE 와 Candidate

- 후보
    - STUN, TURN 서버를 이용해서 획득했던 IP주소와 프로토콜, 포트의 조합으로 구성된 연결 가능한 네트워크 주소
    - 후보 수집시 일반적으로 3개의 주소를 얻게 된다
        - 자신의 사설IP와 포트 넘버
        - 자신의 공인IP와 포트 넘버 (STUN, TURN 서버로부터 획득 가능)
        - TURN서버의 IP와 포트 넘버 (TURN 서버로부터 획득 가능)
- ICE
    - 두 개의 단말이 P2P 연결을 가능하게 하도록 최적의 경로르 찾아주는 프레임워크
    - ICE 프레임워크가 STUN, 또는 TURN 서버를 이용해 상대방과 연결 가능한 후보들을 갖고 있다
    - 두 브라우저가 P2P통신을 위해 통신할 수 있는 주소만큼은 확실하게 알아냈다

## 📌1월 13일 월요일

### WebRTC 란?

- Web Real-Time Communication
- 웹/앱에서 별다른 소프트웨어 없이 카메라, 마이크 등을 사용하여 실시간 커뮤니테이션을 제공해주는 기술
- 화상 통화, 화상 공유 등을 구현할 수 있는 오픈 소스
- 비디오, 음성 등 일반 데이터가 P2P 방식으로 피어간의 전송되도록 지원
- 중개 서버를 거치지 않고 브라우저간을 P2P로 연결하는 기술

### P2P 절차

- 각 브라우저가 P2P 통신에 동의
- 서로의 주소를 공유
- 보안 사항 및 방화벽 우회
- 멀티미디어 데이터를 실시간으로 교

### 장점

- Latency가 짧다
- 별다른 소프트웨어 없이 실시간 커뮤니케이션이 가능하다
- 진입 장벽이 낮아
- 무료

### 단점

- STUN/ TURN 서버가 필요하다
    - P2P통신을 하기 위해 사용자의 IP주소를 알아야한다
    - 대부분 사용자들은 방화벽을 사용하기 때문에 네트워크 상 연결을 위해 STUN/TURN서버가 필요하다

### Data Stream

- connection-oriented 통신에서 연속적으로 흘러나오는 데이터들의 흐름
- 데이터의 양이 한정되어 있지 않고 끊임없이 생성되고 변하는 데이터들의 흐름

### NAT

- Network Address Translation
- 네트워크 주소 변환

### Signaling

- P2P통신이 일어나기 전에 세션 제어 메세지, 네트워크 구성, 미디어 기능 등의 정보를 교환하는데 사용
- 세션 제어 메세지 : 통신을 초기화하거나 닫고 오류를 보고
- 네트워크 구성 : 외부 세계에 컴퓨터의 IP주소와 포트는 무엇인지 파악
- 미디어 기능 : 브라우저와 통신하려는 브라우저에서 처리할 수 있는 코덱과 해상도는 무엇인지 파악